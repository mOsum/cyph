application: cyphme
module: cyph-com
version: master
runtime: python27
api_version: 1
threadsafe: true

handlers:

# Main

- url: /
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer

- url: /about[/]?
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer

- url: /faq[/]?
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer

- url: /termsofservice[/]?
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer

- url: /privacypolicy[/]?
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer


# Podcasts

- url: /penn[/]?
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer

- url: /jjgo[/]?
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer

- url: /ventura[/]?
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer

- url: /sawbones[/]?
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer

- url: /judgejohn[/]?
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer

- url: /mybrother[/]?
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer

- url: /security[/]?
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer


# Else

- url: /(.*\..*)
  static_files: \1
  upload: .*
  secure: always
  http_headers:
    Cache-Control: public, max-age=0
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer


# 404

- url: /.*
  static_files: index.html
  upload: index.html
  secure: always
  http_headers:
    Cache-Control: no-store
    X-Frame-Options: deny
    Strict-Transport-Security: max-age=31536000; includeSubdomains;
    Content-Security-Policy: referrer no-referrer
